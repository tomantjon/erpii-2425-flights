<mvc:View controllerName="sap.capire.app.flightapp.controller.Detail"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.uxap"
    xmlns:m="sap.m"
    xmlns:forms="sap.ui.layout.form"
    xmlns:core="sap.ui.core">
    <ObjectPageLayout id="ObjectPageLayout"
        showTitleInHeaderContent="true"
        upperCaseAnchorBar="false">
        <headerTitle>
            <ObjectPageDynamicHeaderTitle>
                <expandedHeading>
                    <m:Title text="{AirlineID} {ConnectionID}"
                        wrapping="true" />
                </expandedHeading>

                <snappedHeading>
                    <m:HBox>
                        <m:VBox>
                            <m:Avatar src="{to_Airline/AirlinePicURL}"
                                class="sapUiSmallMarginEnd" />
                        </m:VBox>

                        <m:VBox>
                            <m:Title text="{AirlineID} {ConnectionID}"
                                wrapping="true"/>
                            <m:Label text="{FlightDate}"/>
                        </m:VBox>
                    </m:HBox>
                </snappedHeading>

                <expandedContent>
                    <m:Label text="{FlightDate}"/>
                </expandedContent>

                <snappedTitleOnMobile>
                    <m:Title text="{FlightDate}"/>
                </snappedTitleOnMobile>

                <actions>
                    <m:Button text="Edit"
                        type="Emphasized"/>
                    <m:Button text="Delete"/>
                    <m:Button text="Copy"/>
                    <m:OverflowToolbarButton icon="sap-icon://action"
                        type="Transparent"
                        text="Share"
                        tooltip="action"/>
                </actions>
            </ObjectPageDynamicHeaderTitle>
        </headerTitle>

        <headerContent>
            <m:FlexBox wrap="Wrap"
                fitContainer="true">
                <m:Avatar src="{to_Airline/AirlinePicURL}"
                    class="sapUiMediumMarginEnd"
                    displaySize="L"/>

                <m:VBox class="sapUiLargeMarginEnd sapUiSmallMarginBottom">
                    <m:Title class="sapUiTinyMarginBottom">
                        <m:Link text="Flight Details"
                            press="onOrderDetailsPress"/>
                    </m:Title>

                    <m:HBox class="sapUiTinyMarginBottom"
                        renderType="Bare">
                        <m:Label text="Airline:"
                            class="sapUiTinyMarginEnd"/>
                        <m:Text text="{to_Airline/Name}"/>
                    </m:HBox>

                    <m:HBox class="sapUiTinyMarginBottom"
                        renderType="Bare">
                        <m:Label text="Connection:"
                            class="sapUiTinyMarginEnd"/>
                        <m:Text text="{ConnectionID}"/>
                    </m:HBox>

                    <m:HBox>
                        <m:Label text="Flight Date:"
                            class="sapUiTinyMarginEnd"/>
                        <m:Text text="{FlightDate}"/>
                    </m:HBox>
                </m:VBox>

            </m:FlexBox>
        </headerContent>
        <sections>

            <ObjectPageSection titleUppercase="false"
                id="flightDetailsSection"
                title="Flight Details">
                <subSections>
                    <ObjectPageSubSection title="Flight Details"
                        showTitle="false">
                        <blocks>
                            <forms:SimpleForm class="sapUxAPObjectPageSubSectionAlignContent"
                                layout="ColumnLayout"
                                columnsM="2"
                                columnsL="3"
                                columnsXL="4">
                                <core:Title text="Flight Details" />

                                <m:Label text="Airline" />
                                <m:Text text="{to_Airline/Name}" />

                                <m:Label text="Connection" />
                                <m:Text text="{ConnectionID}" />

                                <m:Label text="Price" />
                                <m:Text text="{
				parts: ['Price', 'CurrencyCode_code'],
				type: 'sap.ui.model.type.Currency'
			}" />

                                <m:Label text="Plane Type" />
                                <m:Text text="{PlaneType}" />

                                <m:Label text="Occupied Seats / Max. Occuppancy" />
                                <m:Text text="{OccupiedSeats}/{MaximumSeats}" />

                            </forms:SimpleForm>
                        </blocks>
                    </ObjectPageSubSection>
                </subSections>
            </ObjectPageSection>
            <ObjectPageSection titleUppercase="false"
                id="connectionDetailsSection"
                title="Connection Details">
                <subSections>
                    <ObjectPageSubSection title="Connection Details"
                        showTitle="false">
                        <blocks>
                            <forms:SimpleForm class="sapUxAPObjectPageSubSectionAlignContent"
                                layout="ColumnLayout"
                                columnsM="2"
                                columnsL="3"
                                columnsXL="4">
                                <core:Title text="Connection Details" />

                                <m:Label text="Departure" />
                                <m:Text text="{to_Connection/DepartureAirport/Name}" />
                                <m:Text text="{to_Connection/DepartureAirport/City}" />


                                <m:Label text="Arrival" />
                                <m:Text text="{to_Connection/DestinationAirport/Name}" />
                                <m:Text text="{to_Connection/DestinationAirport/City}" />

                                <m:Label text="Departure Time" />
                                <m:Text text="{to_Connection/DepartureTime}" />

                                <m:Label text="Arrival Time" />
                                <m:Text text="{to_Connection/ArrivalTime}" />

                                <m:Label text="Distance" />
                                <m:Text text="{
				parts: ['to_Connection/Distance', 'to_Connection/DistanceUnit'],
				type: 'sap.ui.model.type.Unit'
			}" />

                            </forms:SimpleForm>
                        </blocks>
                    </ObjectPageSubSection>
                </subSections>
            </ObjectPageSection>
        </sections>

    </ObjectPageLayout>
</mvc:View>